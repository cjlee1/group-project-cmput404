<!-- templates/friendrequest/friendrequest.html -->
{% extends 'base.html' %}

{% block title %}Send friend request{% endblock %}

{% block content %}
{% if user.is_authenticated %}
  {% load static %}
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script> -->
  <link rel="stylesheet" type="text/css" href="{% static 'homepage/homepage.css' %}">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--This is the friends page
      In the future this will probably be on the users profile page
      But again, this is like the first iteration of the thingy, proof of concept
      The accept and ignore buttons should use AJAX to send/ignore the request
      Then refresh the dom/friend list
      -->
  <h1 class="section-header friendtitle">Friend Requests</h1>
  {% for r in requests %}
    <div>
      {{ r }} 
      <input type="submit" value="Accept"> 
      <input type="submit" value="Ignore">
    </div>    
  {% endfor %}
  </br>
  <h1 class="section-header friendtitle">Friends</h1>
  {% for friend in friendsObj %}
    <!-- this should be a hyperlink to their profile -->
    {% if user.id == friend.friend_a_id %}

              
    <div>
        <p class="friends"> <a class="friendsp" href="{% url 'profile' username=friend.friend_b %}">{{friend.friend_b.displayname}}</a>
          <a class=friendshref href ="{% url 'delete_friend' pk=friend.pk %}"> 
              <button type="button" class="btn btn-danger btn-xs friendsbutton">Remove</button>
          </a>
        </p>
     
    </div>
    {% endif %}
  {% endfor %}
{% else %}
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'login/login.css' %}">

  <p>You are not logged in</p>
  <a href="{% url 'login' %}">login</a>
{% endif %}
{% endblock %}